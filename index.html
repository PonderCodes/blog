<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="prism.css">
  <script src="prism.js"></script>
  <title>Ponder Codes a Game in Dart</title>
</head>

<body id="top">

  <header>
    <h1>A Game in Dart</h1>
    <p class="author">Ponder<br>January 2023</p>
  </header>
  <div id="dark-mode-toggle" style="cursor:pointer;position:absolute;top:0px;left:10px;" ;>&#127763;</div>

  <div class="abstract">
    <h2>Abstract</h2>
    <p>
      Hi. I'm Ponder. Of course, that's a pseudonym. I write code. I've been in the software industry for
      Quite Some Time. I like writing software, building automated systems. I suppose I'll be using this as
      a creative outlet. Or ... more like documenting my creative outlet project.
      The project: code your own AI to play your character in a game. Write the project in Dart, target
      the web, make it a PWA, implement native-ish features like payments and passes. That's the high-
      level. Details to come in other posts.
    </p>
  </div>

  <nav class="toc" role="navigation">
    <h2>Contents</h2>
    <ol>
      <li>
        <a href="#getting-started">Getting Started</a>
      </li>
      <li>
        <a href="#a-minimal-web-page">A Minimal Web Page</a>
      </li>
      <li>
        <a href="#basic-ecs">Basic ECS</a>
      </li>
    </ol>
  </nav>

  <main>
    <article>
      <h2 id="getting-started">Getting Started</h2>
      <p>To do: write up Dart installation</p>
    </article>
    <article>
      <h2 id="a-minimal-web-page">A Minimal Web Page</h2>
      <p>I mentioned alread that this implementation will</p>
      <blockquote>
        ...target web, [be] a PWA, implement native-ish features...
      </blockquote>
      <p>
        Let's get started on it. First, we need some amount of planning. We'll start with a game of
        snake. I believe an ECS (Entity Component System, sometimes Entity System) will serve this game well.
        Entities will include snake heads, snake bodies, food. Those will need components like location,
        color, direction, a counter. We probably also want entities for our rendering canvas and some other
        things. We also need systems for rendering, scoring, generating food, and command input (some way to
        tell the snakes which direction to go.)
      </p>
      <span class="sidenote left">To do: write up the HTML basics</span>
    </article>
    <article>
      <h2 id="basic-ecs">Basic ECS</h2>
      <p>
        Let's start with a entities. Each entity is nothing more than an identifier. Let's wrap
        a UUID in an <code class="language-dart">Entity</code> class.
      </p>
      <p>
      <pre class="line-numbers"><code class="language-dart">class Entity {
  final String _uuid;

  Entity() : _uuid = Uuid().v4();

  @override
  String toString() {
    return "$runtimeType $_uuid";
  }
}
</code></pre>
      </p>
      <p>
        We only need the string version of the random UUID. We initialize it immediately in the constructor, and all
        instances of <code>Entity</code> are immutable, so the <code>_uuid</code> member variable is marked
        <code>final</code>. We also have an informative <code>toString()</code> method for use while debugging.
      </p>
      <p>
        That's all. No functionality for entities.
      </p>
    </article>
  </main>
  <footer>
    <p class="footnotes">Built with the cooperation of several phalanges and a biological neural network; uses <a
        href="https://latex.vercel.app/">latex.css</a> and <a href="https://prismjs.com/">Prism</a>.</p>
  </footer>
  <script>
    document
      .querySelector("#dark-mode-toggle")
      .addEventListener('click', () => {
        document.body.classList.toggle("latex-dark");
      });
  </script>
</body>

</html>
